<!-- Full-width slider for comparing two selected pictures -->
<div class="compare-slider-container">
  
  <img 
      *ngIf="!loadingLeft"
      [src]="selectedDate1Picture" 
      class="compare-slider-img left-img large-picture" 
      (load)="onImageLoad('left')"
      (error)="onImageError('left')"
      [style.display]="loadingLeft ? 'none' : 'block'"
    />
      
  <img *ngIf="!loadingRight"
        [src]="selectedDate2Picture"
        class="compare-slider-img right-img large-picture"
        (load)="onImageLoad('right')"
        (error)="onImageError('right')"
        [style.display]="loadingRight ? 'none' : 'block'"
        />

    <div *ngIf="loadingLeft || loadingRight" class="spinner-container">
      <p>Loading...</p>
    </div>
 
  <div class="slider-overlay">
    <div class="custom-slider">
      <div class="slider-track"></div>
      <div
        class="slider-thumb"
        [style.left.%]="sliderPosition"
        tabindex="0"
        (keydown)="onThumbKeydown($event)"
        (mousedown)="onThumbDragStart($event)"
      >
        <div class="thumb-content">
          <span class="material-icons">chevron_left</span>
          <span class="material-icons">chevron_right</span>
        </div>
      </div>
    </div>
  </div>

</div>

<div class="compare-layout">
  <!-- Left-side for date1 thumbnails -->
  <div class="date1-section">
    <div class="form-field">
      <label for="photoDate">Photo Date:</label>
      <input
        type="date"
        id="photoDate1"
        [value]="date1InputValue"
        (change)="onDate1Change($event)"
        class="native-date-picker"
      />
      <span class="calendar-icon">
        <i class="material-icons">calendar_today</i>
      </span>
    </div>

    <div class="thumbnail-strip">
      <div *ngFor="let picture of date1Pictures" 
          class="thumbnail" 
          [class.selected]="picture === selectedDate1Thumbnail" 
          (click)="onDate1PictureSelect(picture)">
        <img [src]="getThumbPictureUrl(picture)" class="thumbnail-img" />
        <div class="thumbnail-overlay">
          <p>{{ formatTimestamp(picture) }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Right-side for date2 thumbnails -->
  <div class="date2-section">
      <div class="form-field">
      <label for="photoDate">Photo Date:</label>
      <input
        type="date"
        id="photoDate2"
        [value]="date2InputValue"
        (change)="onDate2Change($event)"
        class="native-date-picker"
      />
      <span class="calendar-icon">
        <i class="material-icons">calendar_today</i>
      </span>
    </div>

    <div class="thumbnail-strip">
      <div *ngFor="let picture of date2Pictures" 
            class="thumbnail" 
            [class.selected]="picture === selectedDate2Thumbnail" 
            (click)="onDate2PictureSelect(picture)">
        <img [src]="getThumbPictureUrl(picture)" class="thumbnail-img" />
        <div class="thumbnail-overlay">
          <p>{{ formatTimestamp(picture) }}</p>
        </div>
      </div>
    </div>
  </div>
</div>