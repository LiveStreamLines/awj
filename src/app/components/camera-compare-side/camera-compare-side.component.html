<!-- Full-width slider for comparing two selected pictures -->
<div class="compare-slider-container">
  <div class="image-comparison">  
    <img 
        *ngIf="!loadingLeft"
        [src]="selectedDate1Picture" 
        class="side-by-side" 
        (load)="onImageLoad('left')"
        (error)="onImageError('left')"
        [style.display]="loadingLeft ? 'none' : 'block'"
      />
        
    <img *ngIf="!loadingRight"
          [src]="selectedDate2Picture"
          class="side-by-side"
          (load)="onImageLoad('right')"
          (error)="onImageError('right')"
          [style.display]="loadingRight ? 'none' : 'block'"
          />
  
      <div *ngIf="loadingLeft || loadingRight" class="spinner-container">
        <p>Loading...</p>
      </div>

    </div>
  
  
    
  </div>
  
  <div class="compare-layout">
    <!-- Left-side for date1 thumbnails -->
    <!-- <div class="date1-section">
      <div class="form-field">
        <label for="photoDate">Photo Date:</label>
        <input
          type="date"
          id="photoDate1"
          [value]="date1InputValue"
          (change)="onDate1Change($event)"
          class="native-date-picker"
        />
        <span class="calendar-icon">
          <i class="material-icons">calendar_today</i>
        </span>
      </div>

      <div class="thumbnail-strip">
        <div *ngFor="let picture of date1Pictures" 
            class="thumbnail" 
            [class.selected]="picture === selectedDate1Thumbnail" 
            (click)="onDate1PictureSelect(picture)">
          <img [src]="getThumbPictureUrl(picture)" class="thumbnail-img" />
          <div class="thumbnail-overlay">
            <p>{{ formatTimestamp(picture) }}</p>
          </div>
        </div>
      </div>
    </div> -->
    
    <div class="date1-section">
      <app-compare-datepicker
        [dateInputValue]="date1InputValue"
        [pictures]="date1Pictures"
        [selectedThumbnail]="selectedDate1Thumbnail"
        [path]="path"
        (dateChange)="onDate1Change($event)"
        (pictureSelect)="onDate1PictureSelect($event)">
      </app-compare-datepicker>
    </div>


    <!-- Right-side for date2 thumbnails -->
    <!-- <div class="date2-section">
      <div class="form-field">
        <label for="photoDate">Photo Date:</label>
        <input
          type="date"
          id="photoDate2"
          [value]="date2InputValue"
          (change)="onDate2Change($event)"
          class="native-date-picker"
        />
        <span class="calendar-icon">
          <i class="material-icons">calendar_today</i>
        </span>
      </div>

      <div class="thumbnail-strip">
        <div *ngFor="let picture of date2Pictures" 
              class="thumbnail" 
              [class.selected]="picture === selectedDate2Thumbnail" 
              (click)="onDate2PictureSelect(picture)">
          <img [src]="getThumbPictureUrl(picture)" class="thumbnail-img" />
          <div class="thumbnail-overlay">
            <p>{{ formatTimestamp(picture) }}</p>
          </div>
        </div>
      </div>
    </div> -->
    <div class="date1-section">
      <app-compare-datepicker
        [dateInputValue]="date2InputValue"
        [pictures]="date2Pictures"
        [selectedThumbnail]="selectedDate2Thumbnail"
        [path] = "path"
        (dateChange)="onDate2Change($event)"
        (pictureSelect)="onDate2PictureSelect($event)">
      </app-compare-datepicker>
    </div>
  </div>