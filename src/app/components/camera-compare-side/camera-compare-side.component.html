<!-- Full-width slider for comparing two selected pictures -->
<div class="compare-slider-container">
  <div class="image-comparison">  
    <img 
        *ngIf="!loadingLeft"
        [src]="selectedDate1Picture" 
        class="side-by-side" 
        (load)="onImageLoad('left')"
        (error)="onImageError('left')"
        [style.display]="loadingLeft ? 'none' : 'block'"
      />
        
    <img *ngIf="!loadingRight"
          [src]="selectedDate2Picture"
          class="side-by-side"
          (load)="onImageLoad('right')"
          (error)="onImageError('right')"
          [style.display]="loadingRight ? 'none' : 'block'"
          />
  
      <div *ngIf="loadingLeft || loadingRight" class="spinner-container">
        <p>Loading...</p>
      </div>

    </div>
  
  
    
  </div>
  
  <div class="compare-layout">
    <!-- Left-side for date1 thumbnails -->
    <div class="date1-section">
      <mat-form-field class="date-selector">
        <mat-label>Date 1:</mat-label>
        <input matInput [matDatepicker]="picker1" [(ngModel)]="selectedDate1" (dateChange)="onDate1Change($event)" />
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
      </mat-form-field>
  
      <div class="thumbnail-strip">
        <div *ngFor="let picture of date1Pictures" 
            class="thumbnail" 
            [class.selected]="picture === selectedDate1Thumbnail" 
            (click)="onDate1PictureSelect(picture)">
          <img [src]="getThumbPictureUrl(picture)" class="thumbnail-img" />
          <div class="thumbnail-overlay">
            <p>{{ formatTimestamp(picture) }}</p>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Right-side for date2 thumbnails -->
    <div class="date2-section">
      <mat-form-field class="date-selector">
        <mat-label>Date 2:</mat-label>
        <input matInput [matDatepicker]="picker2" [(ngModel)]="selectedDate2" (dateChange)="onDate2Change($event)" />
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>
  
      <div class="thumbnail-strip">
        <div *ngFor="let picture of date2Pictures" 
              class="thumbnail" 
              [class.selected]="picture === selectedDate2Thumbnail" 
              (click)="onDate2PictureSelect(picture)">
          <img [src]="getThumbPictureUrl(picture)" class="thumbnail-img" />
          <div class="thumbnail-overlay">
            <p>{{ formatTimestamp(picture) }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>